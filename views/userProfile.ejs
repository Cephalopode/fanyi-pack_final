<!-- views/profile.ejs -->
<!doctype html>
<html>
<head>
    <title>My Profile</title>
    <% include partials/template/head.ejs %>

    <style>
        body 		{ word-wrap:break-word; }
        .row        {padding-left: 50px;}
    </style>
</head>
<body>
<% include partials/template/header.ejs %>
<script>
    setActiveTab("userProfile")
</script>

<div class="container">

    <div class="page-header text-center">
        <h1><span class="fa fa-anchor"></span> Profile of <%= user.email %></h1>
        <a href="/logout" class="btn btn-default btn-sm">Logout</a>
    </div>

    <div class="row">

        <!-- LOCAL INFORMATION -->
        <div class="row">
            <div class="col-sm-6">
                <div class="well">
                    <h3><span class="fa fa-user"></span> Info</h3>

                    <p>
                    <div class="row">
                        <img src="/uploads/<%= user.picture %>" height="150" width="150">
                    </div>

                        <strong>Username</strong>: <%= user.email %><br>
                        <strong>Native language</strong>: <%= user.nativeLanguage %><br>
                        <strong>Other language</strong>: <%= user.otherLanguage %><br>
                        <strong>Remaining Credits</strong>: <%= user.credits %><br>
                        <strong>Score</strong>: <%= user.score_nb %><br>
                        <strong>Requested Help</strong>: <%= user.translations_nb %><br>
                        <strong>Provided Help</strong>: <%= user.reviews_nb %><br>
                        <strong>Profile created on</strong>: <%= user.profile_creation_date %><br>
                    </p>

                </div>
            </div>


            <div class="col-sm-6">
                <div class="well">
                    <h3><span class="fa fa-edit"></span> About this user</h3>

                    <em id="init"><span class="fa fa-info"></span>&nbsp&nbsp Looks like this user hasn't written anything yet...</em>
                    <div id="saved" style="visibility:hidden">
                            <p><%= user.introduce %></p>
                            <div name="introduce"></div>
                    </div>


                </div>
            </div>


        </div>

    </div>
    <script>
        function dispInit() {
            document.getElementById("init").style.visibility = "visible"
            document.getElementById("saved").style.visibility = "hidden"
        }
        function dispSaved() {
            document.getElementById("init").style.visibility = "hidden"
            document.getElementById("saved").style.visibility = "visible"
        }
    </script>
    <% if(user.introduce == null) { %>
    <script>dispInit()</script>
    <% } else { %>
    <script>dispSaved()</script>
    <% } %>
    <% include partials/template/footer.ejs %>
</div>
</body>
</html>
